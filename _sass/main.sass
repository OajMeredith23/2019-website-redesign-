$bg-color: #E8E8E8
$accent: #f3f3f3
$text: #383838

$max-width: 1088px
$padding: 0 1.6%
$margin: 1.6%
$grid-gap: 0.6%
@import "reset"
@import "typography"
@import "nav"

#__bs_notify__
    opacity: .3
body 
    background: $bg-color


.perlin-background
    pointer-events: none 
    z-index: -1
    position: absolute
    left: 0 
    top: 0 
    right: 0 
    bottom: 0
    width: 100%
    height: 100%
    padding: 0

.full-img
    width: 100%
    height: 100%
    object-fit: cover

.main
    max-width: $max-width
    margin: 0 auto
    overflow: hidden

.block 
    padding: 1.6% 1.6%
    margin: 5em 0
    position: relative


.landing-block
    margin-top: $nav-height + 5px
    padding: $padding
    @media(max-width: 960px)
        min-height: 100vh 
        display: flex 
        flex-direction: column

.img-container
    width: 100%
    height: 50vh
    margin: 0 auto

.big-header 
    font-size: 4em

.body-text 
    max-width: 75%

.header 
    transform: translateY(50px)
    opacity: 0
    &.animate 
        opacity: 1
        transition: .6s ease-in-out
        transform: translateY(0)

#work 
    padding-bottom: 100px
$offset-top: 50px

.img-shadow
    z-index: -1
    background: $accent
@media(max-width: 959px)
    .img-shadow 
        position: absolute
        width: 100%
        height: calc(100% + 50px) // + $offset-top // var will not work with calc()
        top: -$offset-top

    .img-shadow_left 
        left: -33%
        box-shadow: 3px 6px 6px rgba(0,0,0,.01)
    .img-shadow_right
        box-shadow: -3px -6px 12px rgba(0,0,0, .01)
        left: 33%
    
    .header-accent
        display: none


.project-landing 
    .img-shadow
        display: none
    p.body-text
        width: 100%
        display: block
        border: 1px solid red

.project-page
    // max-width: 959px
    margin: 0 auto
.project-section 
    margin: 100px 0
    h1, h2, h3, h4, h5, h6, p
        padding: 1.6%

    .img-container
        padding: 10px 10px
        display: inline-block
        max-height: 80vh
        .full-img 
            width: 100%
            max-height: 80vh
.research-stats
    margin: 50px 0
    min-height: 50vh
    display: flex 
    flex-direction: column
    justify-content: space-around
.stat-item
    display: inline-block
    display: flex 
    justify-content: center 
    align-items: center
    flex-direction: column
    > ul > li, h2
        text-align: center

.footer 
    min-height: 20vh 
    display: flex 
    justify-content: center 
    align-items: center 
    
@media(min-width:960px) 
    @supports(display: grid)

        .main 
            overflow: visible

        .landing-block 
            margin: 0 auto
            padding-top: $nav-height + 20px
            min-height: 100vh
            display: grid 
            grid-gap: $grid-gap
            grid-template-columns: repeat(12, 1fr)
            grid-template-rows: 60vh 100px

        .big-header 
            font-size: 6em
            grid-row: 1 
            grid-column: 2 / -1
            align-self: flex-end

        .landing-img.img-container
            grid-column: 6 / -2
            grid-row: 1

        .landing-text
            grid-row: 2
            grid-column: 3 / span 4
        
        .block 
           min-height: 100vh
           display: grid 
           grid-gap: $grid-gap
           grid-template-rows: 40px 60vh minmax(auto, 100px)
           grid-template-columns: repeat(12, 1fr)

        .img-container
           height: 100%
           grid-row: 2

        .img-container_left
            grid-column: 1 / span 8

        .img-container_right
            grid-column: 5 / -1

        .img-shadow 
            transform: scaleY(0)
            grid-row: 1 / -1
            &.animate 
                transition: .5s ease-out
                transform: scaleY(1)

        .img-shadow_left
            grid-column: 2 / span 4

        .img-shadow_right
            grid-column: 7 / -2

        .header 
            position: relative
            align-self: flex-end
            grid-row: 3 
               

            &-left 
                grid-column: 1 / span 2
                &:before 
                    content: ''
                    position: absolute
                    height: 5px
                    width: 75px 
                    background: $accent 
                    bottom: 0
                    right: -77px
            &-right 
                grid-column: 10 / -1
                &:before 
                    content: ''
                    position: absolute
                    height: 5px
                    width: 75px 
                    background: $accent 
                    bottom: 0
                    left: -80px

        .extras-grid
            display: grid 
            grid-gap: $grid-gap
            grid-template-columns: repeat(12, 1fr)
            grid-template-rows: 40px 60vh 40px
            .block 
                grid-row: 2
                display: flex
                flex-direction: column
                min-height: auto
                margin: 0
                grid-column: span 4

                .header 
                    align-self: flex-start
                .img-container
                    min-height: 60vh

        .project-landing
            grid-template-rows: 40px 60vh minmax(100px, 150px)
            .landing-img 
                grid-row: 2
                grid-column: 1 / -1
            .heading
                grid-column: 1 / span 4
                grid-row: 3
                align-self: flex-end
            .landing-text 
                grid-row: 3
                grid-column: 5 / span 3
                align-self: flex-end
            .img-shadow 
                background: $accent
                display: block
                grid-row: 1 / -1
                transform: scale(1)
                grid-column: 8 / -2

        .research-stats 
            display: flex
            flex-direction: row
            justify-content: space-around
            min-height: auto
        .stat-item 
            width: 200px
            


